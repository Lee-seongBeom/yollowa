<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.proj.yollowa.model.activity.ActivityDao">
	<!-- 액티비티 승낙된 리스트  -->
	<select id="activitySelectAll" resultType="com.proj.yollowa.model.entity.activity.ActivityVo">
		select * from activity where activity_temp=1
	</select>
	
	<!-- 액티비티 클릭시 디테일 -->
	<select id="activityDetail" resultType="com.proj.yollowa.model.entity.activity.ActivityVo">
		select * from activity where activity_number=#{val}
	</select>

	<!-- 액티비티 리스트 카운트 -->	
	<select id="activityCount" resultType="Integer">
		select count(*) from activity where activity_temp=1
	</select>

	<!-- 액티비티 옵션 칸 -->
	<select id="activityOption" resultType="com.proj.yollowa.model.entity.activity.ActivityDetailPageDto">
		select * from activityoption as AO join aoinfo as AI on AO.activityOption_optionNumber = AI.AOInfo_optionNumber where AO.activityOption_articleNumber=#{val}
	</select>
	
	<!-- 리뷰 리스트 --> 
	<select id="reviewList" resultType="com.proj.yollowa.model.entity.activity.ReviewVo">
		select * from review where (review_articleNumber=#{articleNumber} and review_category=#{category})
	</select>
	
	<!-- 리뷰 카운트 -->
	<select id="activityReviewCount" resultType="Integer">
		select count(*) from review where (review_articleNumber=#{articleNumber} and review_category=#{category})
	</select>
	
</mapper>









